{#{% load staticfiles %}#}
{% load static %}
{% load bootstrap_tags %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!--[if IE]>
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <![endif]-->
    <meta name="description" content="">
    <meta name="author" content="ScriptsBundle">
    <title>RightAircraft | Classifieds Portal</title>

	<!--Font awesome icons link -->
    <script defer src="https://kit.fontawesome.com/359826513d.js" crossorigin="anonymous"></script>

	<!--Google font api link -->
	<link rel="preconnect" href="https://fonts.gstatic.com">
	<link href="https://fonts.googleapis.com/css2?family=Roboto:wght@500&display=swap" rel="stylesheet">

    <!-- =-=-=-=-=-=-= Favicons Icon =-=-=-=-=-=-= -->
    <link rel="icon" href="{% static 'images/favicon.ico' %}" type="image/x-icon"/>
    <!-- =-=-=-=-=-=-= Mobile Specific =-=-=-=-=-=-= -->
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <!-- =-=-=-=-=-=-= Bootstrap CSS Style =-=-=-=-=-=-= -->
    <link rel="stylesheet" href="{% static 'css/bootstrap.css' %}">
    <!-- =-=-=-=-=-=-= Template CSS Style =-=-=-=-=-=-= -->
    <link rel="stylesheet" href="{% static 'css/style.css' %}">
    <!-- =-=-=-=-=-=-= Font Awesome =-=-=-=-=-=-= -->
    <!-- =-=-=-=-=-=-= Animation =-=-=-=-=-=-= -->
    <link rel="stylesheet" href="{% static 'css/animate.min.css' %}" type="text/css">


    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
      <![endif]-->



    {% block css %}{% endblock %}
</head>
<body>
<!-- =-=-=-=-=-=-= Preloader =-=-=-=-=-=-= -->
<div id="loader-wrapper">
    <div id="loader"></div>
    <div class="loader-section section-left"></div>
    <div class="loader-section section-right"></div>
</div>
<!--Preloader end -->


<!-- Home Banner 1 -->
<form action="{% url 'post_ad' %}" method="POST" enctype="multipart/form-data" id="form">
	<!-- background image div -->{% csrf_token %}
	<div class="bg-img text-white">

		{% include 'include/navbar.html' %}

	<!--Wrapper upper form div -->
	<div id="upper-form" class="new-p-4 container post-ad-form bg-black-transparent text-white extra-padding postdetails">

		<h1 class="text-center">Sell your aircraft with us</h1>
		<p class="text-center">Lorem ipsum dolor sit amet, consectetur adipisicing elit. Et, in.</p>

		<!--Aircraft type div -->
		<div class="my-3 new-w-100 new-w-100-tb" style="width: 50%">

			<label for="" class="d-block">

				Aircraft Type

			</label>


			<select name="type" id="" required class="custom-form-control1 w-90">

			{% if value %}
				<option value="{{ value.aircraft_type.pk }}">{{ value.aircraft_type}}</option>
			{% else %}
				<option value="">Select an option</option>
			{% endif %}


				<!--displaying all the aircraft type options -->
				{% for item in aircraft_type %}
					<option value="{{ item.pk }}">{{ item }}</option>

				{% endfor %}
			</select>

	</div>


		<!--Row 2 wrapper div -->
		<div class="row my-3">


			<div class="col-md-6 p-0 mtb">

				<label for="" class="d-block">

					Aircraft Make

				</label>

				<select name="make" id="" required class="custom-form-control1 w-90">
				{% if value %}
					<option value="{{ value.aircraft_make.pk }}">{{ value.aircraft_make }}</option>
				{% else %}
					<option value="">Select an option</option>
				{% endif %}
					<!-- displaying all  the available aircraft make options -->
					{% for item in aircraft_make %}
						<option value="{{ item.pk }}">{{ item }}</option>

					{% endfor %}

				</select>


			</div>




			<div class="col-md-6 p-0 w-40 new-w-100 new-w-100-tb">

				<label for="" id="CA">

					Commercial Aircraft
				</label>

				<div class="d-flex justify-content-between new-w-30-tb" style="width: 40%">
				{% if value %}
					<p class="m-0"><input required type="radio" value="True" name="CA">Yes</p>
					<p class="m-0"><input required type="radio" value="False" name="CA">No</p>


				{% else %}
					<p class="m-0"><input required type="radio" value="True"  name="CA">Yes</p>
					<p class="m-0"><input required type="radio" value="False" name="CA">No</p>


				{% endif %}
				</div>

			</div>



		</div>
		<!--End row 2 wrapper div -->


		<!--Row 3 wrapper div -->
		<div class="row my-3">


			<div class="col-md-6 p-0 mtb">

				<label for="" class="d-block">Price</label>

				<select name="price" required id="" class="custom-form-control1 w-90">
				{% if value %}

					<option value="{{ value.price_usd }}">{{ value.price_usd }}</option>
				{% else %}
					<option value="">Select an option</option>
				{% endif %}
					<!--displaying all the price options -->
					<option value="123">$ 123</option>
				</select>


			</div>



			<div class="col-md-6 p-0">

				<label for="" class="d-block">

					Year

				</label>


				<select name="year" required id="" class="custom-form-control1 w-90">
				{% if value %}
					<option value="{{ value.year_of_make }}">{{ value.year_of_make }}</option>
				{% else %}
					<option value="">Select an option</option>
				{% endif %}
					<!--displaying all the year option -->
					<option value="2012">
						2012
					</option>
					<option value="2018">
						2018
					</option>
				</select>


			</div>


		</div>
		<!--End Row 3 wrapper div -->


		<!--Row 4 wrapper div -->
		<div class="row my-3">


			<div class="col-md-6 p-0 mtb">
				<label for="">Serial Number</label>
				<select name="serial_number" required id="" class="custom-form-control1 w-90">
				{% if value %}
					<option value="{{ value.serial_number }}">{{ value.serial_number }}</option>
				{% else %}
					<option value="">Select an option</option>
				{% endif %}
					<!--displaying all the serial numbers -->
					<option value="1201">1201</option>

				</select>
			</div>



			<div class="col-md-6 p-0">
				<label for="">Aircraft Status</label>
				<div class="d-flex justify-content-between new-w-90" style="width: 70%">
				{% if value %}
					<p ><input type="radio" checked value="1" name="aircraft_status">Parked</p>
					<p><input type="radio" value="2" name="aircraft_status">In storage</p>
					<p><input type="radio" value="3" name="aircraft_status">Airworthy</p>


				{% else %}
					<p ><input type="radio" value="1" name="aircraft_status">Parked</p>
					<p><input type="radio" value="2" name="aircraft_status">In storage</p>
					<p><input type="radio" value="3" name="aircraft_status">Airworthy</p>

				{% endif %}
				</div>

			</div>



		</div>
		<!--End row 4 wrapper div -->
	</div>

	<!--End wrapper upper form div -->



	</div>
	<!-- background image div end -->
	<!-- Home Banner 1 End -->

    <!-- Main Content Area -->
		<div class="bg-black text-white" style="height:fit-content   ">
	<!--Wrapper lower div -->

	<div id="wrapper" class="new-p-4 container post-ad-form bg-black-transparent text-white extra-padding postdetails">

		<!--Description div -->
		<div class="my-3">
			<label for="" class="d-block">
				Description
			</label>
			<textarea required class="custom-form-control1 w-100" name="description" id="" cols="5" rows="5">
				{{ value.description }}
			</textarea>

		</div>



		<!--Engine detail div -->

		<div class="my-3">
			<label for="" class="d-block">
				Engine Details
			</label>
			<textarea required class="custom-form-control1 w-100" name="engine_detail" id="" cols="5" rows="5">
				{{ value.engine_details }}
			</textarea>
		</div>

		<!--Interior div -->

		<div class="my-3">
			<label for="" class="d-block">
				Interior
			</label>
			<textarea required class="custom-form-control1 w-100" name="interior" id="" cols="5" rows="5">
				{{ value.interior }}
			</textarea>
		</div>



		<!--Exterior div -->

		<div class="my-3">
			<label for="" class="d-block">
				Exterior
			</label>
			<textarea required class="custom-form-control1 w-100" name="exterior" id="" cols="5" rows="5">
				{{ value.exterior }}
			</textarea>
		</div>

		<!--Avionics div -->

		<div class="my-3">
			<label for="" class="d-block">
				Avionics
			</label>
			<textarea required class="custom-form-control1 w-100" name="avionics" id="" cols="5" rows="5">
				{{ value.avionics }}
			</textarea>
		</div>



		<!--maintenance div -->
		<div class="my-3">

			<label for="" class="d-block">
				Maintenance Status

			</label>
			<textarea required class="custom-form-control1 w-100" name="maintenance_status" id="" cols="5" rows="5">
				{{ value.maintenance_status }}
			</textarea>
		</div>


		<!--additional info div -->

		<div class="my-3">
			<label for="" class="d-block">
				Additional Information
			</label>
			<textarea  class="custom-form-control1 w-100" name="additional_status" id="" cols="5" rows="5">
				{{ value.additional_information }}
			</textarea>
		</div>



		<!--upload image div -->
		{% if value %}
			{% for img in images %}
				<div class="d-flex my-5 replicate display-block">
					<span class="align-self-center">Upload Image</span>
					<input id="upload-btn" name="main_image" onchange="image_handle(event)" value="{{ img.get_photo_url }}" type="file" hidden style="display: none" >
					<label class="custom-btn btn-red ml-2" for="upload-btn">Choose File</label>
					<span class="ml-2 align-self-center" id="file-change">{{ img.get_photo_url }}</span>
				</div>
			{% endfor %}

		{% else %}
			<div class="d-flex my-5 replicate display-block">
				<span class="align-self-center">Upload Image</span>
				<input required id="upload-btn" name="main_image" onchange="image_handle(event)" type="file" hidden style="display: none" >
				<label class="custom-btn btn-red ml-2" for="upload-btn">Choose File</label>
				<span class="ml-2 align-self-center" id="file-change">No file choosen</span>
			</div>

		{% endif %}

		<!--Image button increment div -->
		<div id="image-btns">
			<button type="button" onclick="add_image(event)" style="background-color: transparent;color: #ff5a60;border: 1.5px solid #ff5a60;border-radius: 4px" class="custom-btn mtb">+Add another image</button>
			<button type="button" onclick="remove_image(event)" style="background-color: transparent;color: #ff5a60;border: 1.5px solid #ff5a60;border-radius: 4px" class="custom-btn mtb">Remove image</button>
		</div>

		<div class="my-5">
			<h3 class="main-title text-left">
				Contact Details
			</h3>
		</div>

		<!--Contact detail row 1 wrapper div -->
		<div class="row my-3">
			<!-- Category  -->
			<div class="col-md-6 col-lg-6 col-xs-12 col-sm-12 p-0 mtb">
				<label class="d-block">Contact Email
				</label>
				<input type="email" required name="seller_email" value="{{ value.seller_email }}" class="custom-form-control1 w-100">
			</div>

			<div class="col-md-6 col-lg-6 col-xs-12 col-sm-12 new-p-0 new-p-0-tb">
				<label class=" d-block">Contact Phone Number
				</label>
				<input type="number" required class="custom-form-control1 w-100" value="{{ value.phone_number }}" name="phone_number">
			</div>
		</div>
		<!--end contact detail row 1 wrapper div -->

		<!--Contact detail row 2 wrapper div -->
		<div class="row my-3">
			<!-- Category  -->
			<div class="col-md-6 col-lg-6 col-xs-12 col-sm-12 p-0 mtb">
				<label class="d-block">Name/Company Name (Optional)
				</label>
				<input type="text" name="company_name" value="{{ value.company_name }}" class="custom-form-control1 w-100">

			</div>

			<div class="col-md-6 col-lg-6 col-xs-12 col-sm-12 new-p-0 new-p-0-tb">

				<label class="d-block ">Aircraft Location (Required)
				</label>
				<input type="text" required name="aircraft_location" value="{{ value.aircraft_location }}" class="custom-form-control1 w-100">
			</div>

		</div>
		<!--end contact detail row 2 wrapper div -->

		<!--company logo div -->
		<div class="d-flex my-3 display-block">
			<span class="align-self-center">Upload Company Logo</span>
			<input id="upload-btn-1" name="logo" onchange="image_handle(event)" value="{{ value.company_logo }}" type="file" hidden="hidden" style="display: none" >
			<label class="custom-btn btn-red ml-2" for="upload-btn-1">Choose File</label>
		{% if value %}
			<span class="ml-2 align-self-center" id="file-change-1">{{ value.company_logo }}</span>
		{% else %}
			<span class="ml-2 align-self-center" id="file-change-1">No file choosen</span>
		{% endif %}
		</div>

		<div class="text-center">
			<p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Itaque, voluptatem!</p>
			<button type="submit" class="custom-btn btn-red">Submit my Listing</button>

		</div>
	</div>
		<!--End wrapper lower form div -->

		</div>
	<!--Main content area end -->
</form>
<!-- footer -->
{% include 'include/footer.html' %}
<!-- footer end -->


<!-- =-=-=-=-=-=-= JQUERY =-=-=-=-=-=-= -->
<script src="{% static 'js/jquery.min.js' %}"></script>
<!-- Bootstrap Core Css  -->
<script src="{% static 'js/bootstrap.min.js' %}"></script>
<!-- Jquery Easing -->
<script src="{% static 'js/easing.js' %}"></script>


<script src="{% static 'js/custom.js' %}"></script>

	<script>

		const bg = document.getElementById('bg')
		bg.classList.add('bg-transparent')
		const list = location.href.split('/')
		if (list.length>5){
			const form = document.getElementById('form')
			form.setAttribute('action',`${location.origin}/post-ad-edit/${list[list.length-2]}/`)
		}

		{# remove image div #}

		function remove_image(e){
			const lastDiv = document.getElementsByClassName('replicate')
			if (lastDiv.length===1){
			    return
			}
			lastDiv[lastDiv.length-1].innerHTML = ''
			lastDiv[lastDiv.length-1].remove()
		}


		<!--Adding/Removing image -->
		function add_image(e){

			const rand = Math.random()
			{# making and styling the div element  #}
			const div = document.createElement('div')
			div.setAttribute('class','d-flex my-5 replicate')

			{# making and styling the span #}
			const uploadImageSpan = document.createElement('span')
			uploadImageSpan.classList.add('align-self-center')
			uploadImageSpan.innerHTML = 'Upload Image'

			{# making the file input	#}
			const uploadInput = document.createElement('input')
			uploadInput.setAttribute('type','file')
			uploadInput.setAttribute('id',`${rand}`)
			uploadInput.setAttribute('name','main_image')
			uploadInput.style.display = 'none'
			uploadInput.addEventListener('change',image_handle)


			{# making and styling the label	#}
			const label = document.createElement('label')
			label.setAttribute('for',`${rand}`)
			label.setAttribute('class','custom-btn btn-red ml-2')
			label.innerHTML = 'Choose file'


			{# making and styling the path to image span #}
			const pathSpan = document.createElement('span')
			pathSpan.setAttribute('class','ml-2 align-self-center')
			pathSpan.innerHTML = 'No file choosen'

			div.append(uploadImageSpan)
			div.append(uploadInput)
			div.append(label)
			div.append(pathSpan)

			const imageBtns = document.getElementById('image-btns')
			const wrapper = document.getElementById('wrapper')
			wrapper.insertBefore(div,imageBtns)

		}


		{# image handling on custom upload btn	#}
		function image_handle(e){
			e.target.nextElementSibling.nextElementSibling.innerHTML = e.target.value
		}

		<!-- radio -->
		const value = `{{ value.aircraft_status }}`
		const CA = `{{ value.commercial_aircraft }}`
		if (value){
			const btn = document.querySelectorAll(`input[value='${value}']`)
			btn[0].setAttribute('checked','true')
			const btn2 = document.querySelectorAll(`input[value='${CA}']`)
			btn2[0].setAttribute('checked','true')
		}


	</script>
    <script src="{% static 'jquery.formset.js' %}"></script>

</body>
</html>









